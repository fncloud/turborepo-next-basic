(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1998],{86665:(e,t,n)=>{Promise.resolve().then(n.bind(n,15170))},15170:(e,t,n)=>{"use strict";n.d(t,{default:()=>y});var r=n(54568),a=n(7688),s=n(1165),o=n(92247),i=n(5591),c=n(915),l=n(12468),d=n(26525),u=n(46359),m=n(94453),f=n(7270),p=n(69539),b=n(7620),v=n(40782),h=n(56547);function y(){var e,t;let n=(0,p.useTranslations)("affiliate"),{user:y,common:x}=(0,i.A)(),[g,_]=(0,b.useState)(),{data:j}=(0,l.I)({queryKey:["queryUserAffiliate"],queryFn:async()=>(await (0,c.T8)()).data.data});return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)(u.Zp,{children:[(0,r.jsxs)(u.aR,{children:[(0,r.jsx)(u.ZB,{children:n("totalCommission")}),(0,r.jsx)(u.BT,{children:n("commissionInfo")})]}),(0,r.jsx)(u.Wu,{children:(0,r.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,r.jsx)("span",{className:"text-3xl font-bold",children:(0,r.jsx)(a.n,{type:"currency",value:null==j?void 0:j.total_commission})}),(0,r.jsxs)("span",{className:"text-muted-foreground text-sm",children:["(",n("commissionRate"),": ",null==x?void 0:null===(e=x.invite)||void 0===e?void 0:e.referral_percentage,"%)"]})]})})]}),(0,r.jsxs)(u.Zp,{children:[(0,r.jsx)(u.aR,{className:"flex flex-row items-center justify-between space-y-0",children:(0,r.jsx)(u.ZB,{className:"text-lg font-medium",children:n("inviteCode")})}),(0,r.jsx)(u.Wu,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("code",{className:"bg-muted rounded px-2 py-1 text-2xl font-bold",children:null==y?void 0:y.refer_code}),(0,m.Bd)()&&(0,r.jsx)(v.CopyToClipboard,{text:"".concat(null===(t=location)||void 0===t?void 0:t.origin,"/auth?invite=").concat(null==y?void 0:y.refer_code),onCopy:(e,t)=>{t&&h.toast.success(n("copySuccess"))},children:(0,r.jsxs)(d.$,{variant:"secondary",size:"sm",className:"gap-2",children:[(0,r.jsx)(f.A,{className:"h-4 w-4"}),n("copyInviteLink")]})})]})})]}),(0,r.jsx)(o.o,{request:async(e,t)=>{var n,r,a;let s=await (0,c.v0)({...e,...t});return _(null===(n=s.data.data)||void 0===n?void 0:n.sum),{list:(null===(r=s.data.data)||void 0===r?void 0:r.list)||[],total:(null===(a=s.data.data)||void 0===a?void 0:a.total)||0}},header:{title:n("inviteRecords")},renderItem:e=>(0,r.jsx)(u.Zp,{className:"overflow-hidden",children:(0,r.jsx)(u.Wu,{className:"p-3 text-sm",children:(0,r.jsxs)("ul",{className:"grid grid-cols-2 gap-3 *:flex *:flex-col",children:[(0,r.jsxs)("li",{className:"font-semibold",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:n("userIdentifier")}),(0,r.jsx)("span",{children:e.identifier})]}),(0,r.jsxs)("li",{className:"font-semibold",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:n("registrationTime")}),(0,r.jsx)("time",{children:(0,m.Yq)(e.registered_at)})]})]})})}),empty:(0,r.jsx)(s.Empty,{})})]})}},7688:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(5591),a=n(94453),s=n(69539);function o(e){let{value:t=0,unlimited:n=!1,type:o="number"}=e,i=(0,s.useTranslations)("common"),{common:c}=(0,r.A)(),{currency:l}=c;if("currency"===o){var d,u,m;return"".concat(null!==(u=null==l?void 0:l.currency_symbol)&&void 0!==u?u:"").concat(null!==(m=null===(d=(0,a.tJ)("centsToDollars",t))||void 0===d?void 0:d.toFixed(2))&&void 0!==m?m:"0.00")}return["traffic","trafficSpeed","number"].includes(o)&&n&&!t?i("unlimited"):"traffic"===o?t?(0,a.z3)(t):"0":"trafficSpeed"===o?t?(0,a.z3)(t).replace("B","b")+"ps":"0":"number"===o&&t?t.toString():"0"}},5591:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(80594),a=n(915),s=n(94453);let o=(0,n(50672).v)((e,t)=>({common:{site:{host:"",site_name:"",site_desc:"",site_logo:"",keywords:"",custom_html:"",custom_data:""},verify:{turnstile_site_key:"",enable_login_verify:!1,enable_register_verify:!1,enable_reset_password_verify:!1},auth:{mobile:{enable:!1,enable_whitelist:!1,whitelist:[]},email:{enable:!1,enable_verify:!1,enable_domain_suffix:!1,domain_suffix_list:""},register:{stop_register:!1,enable_ip_register_limit:!1,ip_register_limit:0,ip_register_limit_duration:0}},invite:{forced_invite:!1,referral_percentage:0,only_first_purchase:!1},currency:{currency_unit:"USD",currency_symbol:"$"},subscribe:{single_model:!1,subscribe_path:"",subscribe_domain:"",pan_domain:!1},verify_code:{verify_code_expire_time:5,verify_code_limit:15,verify_code_interval:60},oauth_methods:[],web_ad:!1},user:void 0,setCommon:t=>e(e=>({common:{...e.common,...t}})),setUser:t=>e({user:t}),getUserInfo:async()=>{try{let{data:t}=await (0,a.Mn)();e({user:t.data})}catch(e){console.error("Failed to refresh user:",e)}},getUserSubscribe:(e,n)=>{let{pan_domain:a,subscribe_domain:o,subscribe_path:i}=t().common.subscribe||{};return(o?o.split("\n"):[(0,s.aX)(r.tG||r.Cm||"",a)]).map(t=>a?n?"https://".concat(e,".").concat(n,".").concat(t):"https://".concat(e,".").concat(t):n?"https://".concat(t).concat(i,"?token=").concat(e,"&type=").concat(n):"https://".concat(t).concat(i,"?token=").concat(e))},getAppSubLink:(e,n)=>{var r,a;let s=(null===(a=t().common)||void 0===a?void 0:null===(r=a.site)||void 0===r?void 0:r.site_name)||"";switch(e){case"Clash":return"clash://install-config?url=".concat(n,"&name=").concat(s);case"Hiddify":return"hiddify://import/".concat(n,"#").concat(s);case"Loon":return"loon://import?sub=".concat(encodeURIComponent(n));case"NekoBox":case"NekoRay":return"sn://subscription?url=".concat(n,"&name=").concat(s);case"Quantumult X":return"quantumult-x://add-resource?remote-resource=".concat(encodeURIComponent(JSON.stringify({server_remote:["".concat(n,", tag=").concat(s)]})));case"Shadowrocket":return"shadowrocket://add/sub://".concat(window.btoa(n),"?remark=").concat(encodeURIComponent(s));case"Singbox":return"sing-box://import-remote-profile?url=".concat(encodeURIComponent(n),"#").concat(s);case"Surfboard":return"surfboard:///install-config?url=".concat(encodeURIComponent(n));case"Surge":return"surge:///install-config?url=".concat(encodeURIComponent(n));case"V2box":return"v2box://install-sub?url=".concat(encodeURIComponent(n),"&name=").concat(s);case"V2rayNg":return"v2rayng://install-sub?url=".concat(encodeURIComponent(n),"#").concat(s);case"Stash":return"stash://install-config?url=".concat(encodeURIComponent(n),"&name=").concat(s);default:return""}}}))},915:(e,t,n)=>{"use strict";n.d(t,{Cc:()=>v,KL:()=>o,Mn:()=>u,T6:()=>y,T8:()=>a,al:()=>h,c8:()=>d,ej:()=>f,fX:()=>i,ij:()=>b,k9:()=>p,kA:()=>m,p0:()=>l,v0:()=>s,zT:()=>c});var r=n(34050);async function a(e){return(0,r.A)("/v1/public/user/affiliate/count",{method:"GET",...e||{}})}async function s(e,t){return(0,r.A)("/v1/public/user/affiliate/list",{method:"GET",params:{...e},...t||{}})}async function o(e){return(0,r.A)("/v1/public/user/balance_log",{method:"GET",...e||{}})}async function i(e,t){return(0,r.A)("/v1/public/user/bind_email",{method:"PUT",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function c(e,t){return(0,r.A)("/v1/public/user/bind_mobile",{method:"PUT",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function l(e,t){return(0,r.A)("/v1/public/user/bind_oauth",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function d(e,t){return(0,r.A)("/v1/public/user/bind_oauth/callback",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function u(e){return(0,r.A)("/v1/public/user/info",{method:"GET",...e||{}})}async function m(e,t){return(0,r.A)("/v1/public/user/notify",{method:"PUT",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function f(e,t){return(0,r.A)("/v1/public/user/password",{method:"PUT",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function p(e){return(0,r.A)("/v1/public/user/subscribe",{method:"GET",...e||{}})}async function b(e,t){return(0,r.A)("/v1/public/user/subscribe_token",{method:"PUT",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function v(e,t){return(0,r.A)("/v1/public/user/unbind_oauth",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function h(e,t){return(0,r.A)("/v1/public/user/unsubscribe",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function y(e,t){return(0,r.A)("/v1/public/user/unsubscribe/pre",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}},26525:(e,t,n)=>{"use strict";n.d(t,{$:()=>l,r:()=>c});var r=n(54568),a=n(67680),s=n(13686),o=n(7620),i=n(49773);let c=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=o.forwardRef((e,t)=>{let{className:n,variant:s,size:o,asChild:l=!1,...d}=e,u=l?a.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(c({variant:s,size:o,className:n})),ref:t,...d})});l.displayName="Button"},46359:(e,t,n)=>{"use strict";n.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>c,Zp:()=>o,aR:()=>i,wL:()=>u});var r=n(54568),a=n(7620),s=n(49773);let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("bg-card text-card-foreground rounded-xl border shadow",n),...a})});o.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",n),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("font-semibold leading-none tracking-tight",n),...a})});c.displayName="CardTitle";let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-muted-foreground text-sm",n),...a})});l.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",n),...a})});d.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",n),...a})});u.displayName="CardFooter"},47019:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var r=n(54568),a=n(7620),s=n(49773);let o=a.forwardRef((e,t)=>{let{className:n,type:a,...o}=e;return(0,r.jsx)("input",{type:a,className:(0,s.cn)("border-input file:text-foreground placeholder:text-muted-foreground focus-visible:ring-ring flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...o})});o.displayName="Input"},49773:(e,t,n)=>{"use strict";n.d(t,{cn:()=>s});var r=n(75928),a=n(76564);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[7503,2249,5627,4999,5215,2468,728,9683,4258,4638,734,2729,4690,475,587,2855,7358],()=>t(86665)),_N_E=e.O()}]);