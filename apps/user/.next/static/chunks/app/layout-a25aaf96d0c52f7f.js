(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{37981:(e,t,n)=>{Promise.resolve().then(n.bind(n,50643)),Promise.resolve().then(n.bind(n,36302)),Promise.resolve().then(n.bind(n,1468)),Promise.resolve().then(n.bind(n,38798)),Promise.resolve().then(n.t.bind(n,34331,23)),Promise.resolve().then(n.t.bind(n,70179,23)),Promise.resolve().then(n.t.bind(n,62972,23)),Promise.resolve().then(n.t.bind(n,87102,23)),Promise.resolve().then(n.bind(n,56547)),Promise.resolve().then(n.bind(n,35938)),Promise.resolve().then(n.t.bind(n,88766,23))},50643:(e,t,n)=>{"use strict";n.d(t,{default:()=>m});var o=n(54568),r=n(5591),a=n(51524),s=n(62955),i=n(58367),c=n(48627),u=n(59598),l=n(7620);function d(e){let{loading:t=!0}=e;return(0,o.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center transition-all duration-500 ".concat(t?"bg-background/95 pointer-events-auto opacity-100 backdrop-blur-[2px]":"pointer-events-none bg-transparent opacity-0 backdrop-blur-0"),children:(0,o.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"border-primary mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-b-2 border-t-2"}),(0,o.jsx)("p",{className:"text-muted-foreground text-lg",children:"Loading..."})]})})})}function m(e){let{children:t,common:n,user:m}=e,[p,b]=(0,l.useState)(!0),[h]=(0,l.useState)(()=>new s.E({defaultOptions:{queries:{staleTime:5e3,retry:!1}}})),{setCommon:f,setUser:y}=(0,r.A)();return(0,l.useEffect)(()=>{(async()=>{try{m?y(m):(0,a.fQ)(),f(n)}finally{setTimeout(()=>{b(!1)},1e3)}})()},[y,f,m,n]),(0,l.useEffect)(()=>{let e=new URLSearchParams(location.search).get("invite");e&&localStorage.setItem("invite",e)},[]),(0,o.jsx)(u.N,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:(0,o.jsx)(i.Ht,{client:h,children:(0,o.jsxs)(c.x,{children:[(0,o.jsx)(d,{loading:p||h.isMutating()>0}),t]})})})}},5591:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(80594),r=n(915),a=n(94453);let s=(0,n(50672).v)((e,t)=>({common:{site:{host:"",site_name:"",site_desc:"",site_logo:"",keywords:"",custom_html:"",custom_data:""},verify:{turnstile_site_key:"",enable_login_verify:!1,enable_register_verify:!1,enable_reset_password_verify:!1},auth:{mobile:{enable:!1,enable_whitelist:!1,whitelist:[]},email:{enable:!1,enable_verify:!1,enable_domain_suffix:!1,domain_suffix_list:""},register:{stop_register:!1,enable_ip_register_limit:!1,ip_register_limit:0,ip_register_limit_duration:0}},invite:{forced_invite:!1,referral_percentage:0,only_first_purchase:!1},currency:{currency_unit:"USD",currency_symbol:"$"},subscribe:{single_model:!1,subscribe_path:"",subscribe_domain:"",pan_domain:!1},verify_code:{verify_code_expire_time:5,verify_code_limit:15,verify_code_interval:60},oauth_methods:[],web_ad:!1},user:void 0,setCommon:t=>e(e=>({common:{...e.common,...t}})),setUser:t=>e({user:t}),getUserInfo:async()=>{try{let{data:t}=await (0,r.Mn)();e({user:t.data})}catch(e){console.error("Failed to refresh user:",e)}},getUserSubscribe:(e,n)=>{let{pan_domain:r,subscribe_domain:s,subscribe_path:i}=t().common.subscribe||{};return(s?s.split("\n"):[(0,a.aX)(o.tG||o.Cm||"",r)]).map(t=>r?n?"https://".concat(e,".").concat(n,".").concat(t):"https://".concat(e,".").concat(t):n?"https://".concat(t).concat(i,"?token=").concat(e,"&type=").concat(n):"https://".concat(t).concat(i,"?token=").concat(e))},getAppSubLink:(e,n)=>{var o,r;let a=(null===(r=t().common)||void 0===r?void 0:null===(o=r.site)||void 0===o?void 0:o.site_name)||"";switch(e){case"Clash":return"clash://install-config?url=".concat(n,"&name=").concat(a);case"Hiddify":return"hiddify://import/".concat(n,"#").concat(a);case"Loon":return"loon://import?sub=".concat(encodeURIComponent(n));case"NekoBox":case"NekoRay":return"sn://subscription?url=".concat(n,"&name=").concat(a);case"Quantumult X":return"quantumult-x://add-resource?remote-resource=".concat(encodeURIComponent(JSON.stringify({server_remote:["".concat(n,", tag=").concat(a)]})));case"Shadowrocket":return"shadowrocket://add/sub://".concat(window.btoa(n),"?remark=").concat(encodeURIComponent(a));case"Singbox":return"sing-box://import-remote-profile?url=".concat(encodeURIComponent(n),"#").concat(a);case"Surfboard":return"surfboard:///install-config?url=".concat(encodeURIComponent(n));case"Surge":return"surge:///install-config?url=".concat(encodeURIComponent(n));case"V2box":return"v2box://install-sub?url=".concat(encodeURIComponent(n),"&name=").concat(a);case"V2rayNg":return"v2rayng://install-sub?url=".concat(encodeURIComponent(n),"#").concat(a);case"Stash":return"stash://install-config?url=".concat(encodeURIComponent(n),"&name=").concat(a);default:return""}}}))},915:(e,t,n)=>{"use strict";n.d(t,{Cc:()=>f,KL:()=>s,Mn:()=>d,T6:()=>_,T8:()=>r,al:()=>y,c8:()=>l,ej:()=>p,fX:()=>i,ij:()=>h,k9:()=>b,kA:()=>m,p0:()=>u,v0:()=>a,zT:()=>c});var o=n(34050);async function r(e){return(0,o.A)("/v1/public/user/affiliate/count",{method:"GET",...e||{}})}async function a(e,t){return(0,o.A)("/v1/public/user/affiliate/list",{method:"GET",params:{...e},...t||{}})}async function s(e){return(0,o.A)("/v1/public/user/balance_log",{method:"GET",...e||{}})}async function i(e,t){return(0,o.A)("/v1/public/user/bind_email",{method:"PUT",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function c(e,t){return(0,o.A)("/v1/public/user/bind_mobile",{method:"PUT",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function u(e,t){return(0,o.A)("/v1/public/user/bind_oauth",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function l(e,t){return(0,o.A)("/v1/public/user/bind_oauth/callback",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function d(e){return(0,o.A)("/v1/public/user/info",{method:"GET",...e||{}})}async function m(e,t){return(0,o.A)("/v1/public/user/notify",{method:"PUT",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function p(e,t){return(0,o.A)("/v1/public/user/password",{method:"PUT",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function b(e){return(0,o.A)("/v1/public/user/subscribe",{method:"GET",...e||{}})}async function h(e,t){return(0,o.A)("/v1/public/user/subscribe_token",{method:"PUT",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function f(e,t){return(0,o.A)("/v1/public/user/unbind_oauth",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function y(e,t){return(0,o.A)("/v1/public/user/unsubscribe",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function _(e,t){return(0,o.A)("/v1/public/user/unsubscribe/pre",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}},35938:(e,t,n)=>{"use strict";n.d(t,{Toaster:()=>s});var o=n(54568),r=n(59598),a=n(56547);let s=e=>{let{...t}=e,{theme:n="system"}=(0,r.D)();return(0,o.jsx)(a.l,{theme:n,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})}},88766:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[3319,5147,7503,5627,4999,7957,4690,587,2855,7358],()=>t(37981)),_N_E=e.O()}]);