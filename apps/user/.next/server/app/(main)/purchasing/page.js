(()=>{var e={};e.id=51860,e.ids=[51860],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},69710:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=t(90735),n=t(91232),i=t(72914),a=t.n(i),l=t(40085),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let d=["",{children:["(main)",{children:["purchasing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,55920)),"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/purchasing/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,76722)),"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,68270,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,95335,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,44908,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,57814)),"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,68270,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,95335,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,44908,23)),"next/dist/client/components/unauthorized-error"]}],c=["/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/purchasing/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(main)/purchasing/page",pathname:"/purchasing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},26715:(e,r,t)=>{Promise.resolve().then(t.bind(t,31026)),Promise.resolve().then(t.bind(t,81114)),Promise.resolve().then(t.t.bind(t,91784,23)),Promise.resolve().then(t.t.bind(t,63840,23)),Promise.resolve().then(t.t.bind(t,47453,23)),Promise.resolve().then(t.bind(t,43327))},79859:(e,r,t)=>{Promise.resolve().then(t.bind(t,78066)),Promise.resolve().then(t.bind(t,18679)),Promise.resolve().then(t.bind(t,54320)),Promise.resolve().then(t.bind(t,93080)),Promise.resolve().then(t.t.bind(t,28773,23)),Promise.resolve().then(t.bind(t,89067))},78066:(e,r,t)=>{"use strict";t.d(r,{default:()=>N});var s=t(42725),n=t(41622),i=t(25206),a=t(29956),l=t(56497),o=t(36312),d=t(83369),c=t(136),u=t(64957),p=t(90971),m=t(10965),x=t(53302),f=t(98110),h=t(27876),b=t(27681),g=t(41290),v=t(17979),j=t(70207),y=t(91616);function N({subscription:e}){let r=(0,v.useTranslations)("subscribe"),{common:t}=(0,d.A)(),N=(0,j.useRouter)(),[w,q]=(0,y.useState)({quantity:1,subscribe_id:0,payment:-1,coupon:"",auth_type:"email",identifier:"",password:""}),[_,P]=(0,y.useTransition)(),[C,S]=(0,y.useState)({valid:!1,message:""}),{data:k}=(0,u.I)({enabled:!!e?.id&&!!w.payment,queryKey:["preCreateOrder",w.coupon,w.quantity,w.payment],queryFn:async()=>{let{data:r}=await (0,c.NP)({...w,subscribe_id:e?.id});return r.data}}),T=(0,y.useCallback)((e,r)=>{q(t=>({...t,[e]:r}))},[]),A=(0,y.useCallback)(async()=>{P(async()=>{try{let{data:e}=await (0,c.Ov)(w),{order_no:r}=e.data;r&&(localStorage.setItem(r,JSON.stringify({auth_type:w.auth_type,identifier:w.identifier})),N.push(`/purchasing/order?order_no=${r}`))}catch(e){console.log(e)}})},[w,N,e?.id]);return e?(0,s.jsxs)("div",{className:"mx-auto mt-8 flex max-w-4xl flex-col gap-8 md:grid md:grid-cols-2 md:flex-row",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsxs)(m.Zp,{children:[(0,s.jsxs)(m.aR,{children:["输入要用于 ",t.site.site_name," 账户的电子邮件地址"]}),(0,s.jsxs)(m.Wu,{className:"flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(f.z,{className:(0,b.cn)({"border-destructive":!C.valid&&""!==w.identifier}),placeholder:"Email",type:"email",value:w.identifier||"",onValueChange:e=>{if(q(r=>({...r,identifier:e})),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){if(t.auth.email.enable_domain_suffix){let r=e.split("@")[1];if(!t.auth.email?.domain_suffix_list.split("\n").includes(r||"")){S({valid:!1,message:"邮箱域名不在白名单中"});return}}else S({valid:!0,message:""})}else S({valid:!1,message:"请输入有效的邮箱地址"})},required:!0}),(0,s.jsx)("p",{className:(0,b.cn)("text-muted-foreground text-xs",{"text-destructive":!C.valid&&""!==w.identifier}),children:C.message||"请填写您的电子邮件地址。"})]}),w.identifier&&C.valid&&(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(f.z,{placeholder:"Password",type:"password",value:w.password||"",onValueChange:e=>T("password",e)}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"如果您不填写密码，我们将会自动生成密码并发送到您的邮箱。"})]})]})]}),(0,s.jsx)(m.Zp,{children:(0,s.jsxs)(m.Wu,{className:"grid gap-3 p-6 text-sm",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:e.name}),(0,s.jsx)("ul",{className:"flex flex-grow flex-col gap-3",children:(()=>{let r;try{r=JSON.parse(e.description)}catch{r={description:"",features:[]}}let{description:t,features:n}=r;return(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsx)("li",{className:"text-muted-foreground",children:t}),n?.map((e,r)=>s.jsxs("li",{className:b.cn("flex items-center gap-1",{"text-muted-foreground line-through":"destructive"===e.type}),children:[e.icon&&s.jsx(h.Icon,{icon:e.icon,className:b.cn("text-primary size-5",{"text-green-500":"success"===e.type,"text-destructive":"destructive"===e.type})}),e.label]},r))]})})()}),(0,s.jsx)(a._,{subscribe:{...e,quantity:w.quantity}}),(0,s.jsx)(x.w,{}),(0,s.jsx)(n.M,{order:{...k,quantity:w.quantity,unit_price:e?.unit_price}})]})})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsx)(m.Zp,{children:(0,s.jsx)(m.Wu,{className:"p-6",children:(0,s.jsxs)("div",{className:"grid gap-6",children:[(0,s.jsx)(l.A,{quantity:w.quantity,unitTime:e?.unit_time,discounts:e?.discount,onChange:e=>T("quantity",e)}),(0,s.jsx)(i.A,{coupon:w.coupon,onChange:e=>T("coupon",e)}),(0,s.jsx)(o.A,{balance:!1,value:w.payment,onChange:e=>T("payment",e)})]})})}),(0,s.jsxs)(p.$,{className:"w-full",size:"lg",disabled:!C.valid||_,onClick:A,children:[_&&(0,s.jsx)(g.A,{className:"mr-2 animate-spin"}),r("buyNow")]})]})]}):(0,s.jsx)("div",{className:"p-6 text-center",children:r("subscriptionNotFound")})}},39204:(e,r,t)=>{"use strict";t.d(r,{n:()=>a});var s=t(83369),n=t(23971),i=t(17979);function a({value:e=0,unlimited:r=!1,type:t="number"}){let a=(0,i.useTranslations)("common"),{common:l}=(0,s.A)(),{currency:o}=l;return"currency"===t?`${o?.currency_symbol??""}${n.tJ("centsToDollars",e)?.toFixed(2)??"0.00"}`:["traffic","trafficSpeed","number"].includes(t)&&r&&!e?a("unlimited"):"traffic"===t?e?(0,n.z3)(e):"0":"trafficSpeed"===t?e?(0,n.z3)(e).replace("B","b")+"ps":"0":"number"===t&&e?e.toString():"0"}},41622:(e,r,t)=>{"use strict";t.d(r,{M:()=>l});var s=t(42725),n=t(39204),i=t(53302),a=t(17979);function l({order:e}){let r=(0,a.useTranslations)("subscribe");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"font-semibold",children:r("billing.billingTitle")}),(0,s.jsxs)("ul",{className:"grid grid-cols-2 gap-3 *:flex *:items-center *:justify-between lg:grid-cols-1",children:[e?.type&&[1,2].includes(e?.type)&&(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:r("billing.duration")}),(0,s.jsxs)("span",{children:[e?.quantity||1," ",r(e?.unit_time||"Month")]})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:r("billing.price")}),(0,s.jsx)("span",{children:(0,s.jsx)(n.n,{type:"currency",value:e?.price||e?.unit_price})})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:r("billing.productDiscount")}),(0,s.jsx)("span",{children:(0,s.jsx)(n.n,{type:"currency",value:e?.discount})})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:r("billing.couponDiscount")}),(0,s.jsx)("span",{children:(0,s.jsx)(n.n,{type:"currency",value:e?.coupon_discount})})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:r("billing.fee")}),(0,s.jsx)("span",{children:(0,s.jsx)(n.n,{type:"currency",value:e?.fee_amount})})]})]}),(0,s.jsx)(i.w,{}),(0,s.jsxs)("div",{className:"flex items-center justify-between font-semibold",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:r("billing.total")}),(0,s.jsx)("span",{children:(0,s.jsx)(n.n,{type:"currency",value:e?.amount})})]})]})}},25206:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var s=t(42725),n=t(23963),i=t(17979);t(91616);let a=({coupon:e,onChange:r})=>{let t=(0,i.useTranslations)("subscribe");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"font-semibold",children:t("coupon")}),(0,s.jsx)(n.p,{placeholder:t("enterCoupon"),value:e,onChange:e=>r(e.target.value.trim())})]})}},29956:(e,r,t)=>{"use strict";t.d(r,{_:()=>a});var s=t(42725),n=t(39204),i=t(17979);function a({subscribe:e}){let r=(0,i.useTranslations)("subscribe.detail");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"font-semibold",children:r("productDetail")}),(0,s.jsxs)("ul",{className:"grid grid-cols-1 gap-3 *:flex *:items-center *:justify-between lg:grid-cols-1",children:[e?.name&&(0,s.jsxs)("li",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground line-clamp-2 flex-1",children:e?.name}),(0,s.jsxs)("span",{children:["x ",(0,s.jsx)("span",{children:e?.quantity||1})]})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:r("availableTraffic")}),(0,s.jsx)("span",{children:(0,s.jsx)(n.n,{type:"traffic",value:e?.traffic,unlimited:!0})})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:r("connectionSpeed")}),(0,s.jsx)("span",{children:(0,s.jsx)(n.n,{type:"trafficSpeed",value:e?.speed_limit,unlimited:!0})})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:r("connectedDevices")}),(0,s.jsx)("span",{children:(0,s.jsx)(n.n,{value:e?.device_limit,type:"number",unlimited:!0})})]})]})]})}},56497:(e,r,t)=>{"use strict";t.d(r,{A:()=>d});var s=t(42725),n=t(90842),i=t(37637),a=t(87828),l=t(17979),o=t(91616);let d=({quantity:e,unitTime:r="Month",discounts:t=[],onChange:d})=>{let c=(0,l.useTranslations)("subscribe"),u=(0,o.useCallback)(e=>{d(Number(e))},[d]),p=({value:e,label:r})=>(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(a.C,{value:e,id:e,className:"peer sr-only"}),(0,s.jsx)(i.J,{htmlFor:e,className:"border-muted bg-popover hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary relative flex h-full flex-col items-center justify-center gap-2 rounded-md border-2 p-2",children:r})]}),m=t?.find(r=>r.quantity===e)?.discount,x=m?100-m:0;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"font-semibold",children:c("purchaseDuration")}),(0,s.jsxs)(a.z,{value:String(e),onValueChange:u,className:"flex flex-wrap gap-3",children:["Minute"!==r&&(0,s.jsx)(p,{value:"1",label:`1 / ${c(r)}`}),t?.map(e=>s.jsx(p,{value:String(e.quantity),label:`${e.quantity} / ${c(r)}`},e.quantity))]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"text-muted-foreground text-sm",children:[c("discountInfo"),":"]}),x>0?(0,s.jsxs)(n.E,{variant:"destructive",className:"h-6 text-sm",children:["-",x,"% ",c("discount")]}):(0,s.jsx)("span",{className:"text-muted-foreground h-6 text-sm",children:"--"})]})]})}},36312:(e,r,t)=>{"use strict";t.d(r,{A:()=>u});var s=t(42725),n=t(136),i=t(64957),a=t(37637),l=t(87828),o=t(27681),d=t(17979),c=t(34088);let u=(0,t(91616).memo)(({value:e,onChange:r,balance:t=!0})=>{let u=(0,d.useTranslations)("subscribe"),{data:p}=(0,i.I)({queryKey:["getAvailablePaymentMethods",{balance:t}],queryFn:async()=>{let{data:e}=await (0,n.md)(),s=e.data?.list||[],i=t?s:s.filter(e=>-1!==e.id),a=i.find(e=>e.id)?.id;return a&&r(a),i}});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"font-semibold",children:u("paymentMethod")}),(0,s.jsx)(l.z,{className:"grid grid-cols-2 gap-2 md:grid-cols-5",value:String(e),onValueChange:e=>{console.log(e),r(Number(e))},children:p?.map(r=>s.jsxs("div",{className:"relative",children:[s.jsx(l.C,{value:String(r.id),id:String(r.id),className:"absolute inset-0 z-10 h-full w-full cursor-pointer opacity-0"}),s.jsxs(a.J,{htmlFor:String(r.id),className:o.cn("border-muted bg-popover hover:bg-accent hover:text-accent-foreground flex flex-col items-center justify-between rounded-md border-2 py-2",String(e)===String(r.id)?"border-primary":""),children:[s.jsx("div",{className:"mb-3 size-12",children:s.jsx(c.default,{src:r.icon||"/payment/balance.svg",width:48,height:48,alt:r.name})}),s.jsx("span",{className:"w-full overflow-hidden text-ellipsis whitespace-nowrap text-center",children:r.name})]})]},r.id))})]})})},136:(e,r,t)=>{"use strict";t.d(r,{NP:()=>l,Ov:()=>o,k8:()=>n,kp:()=>i,md:()=>a});var s=t(33479);async function n(e,r){return(0,s.A)("/v1/public/portal/order/checkout",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...r||{}})}async function i(e,r){return(0,s.A)("/v1/public/portal/order/status",{method:"GET",params:{...e},...r||{}})}async function a(e){return(0,s.A)("/v1/public/portal/payment-method",{method:"GET",...e||{}})}async function l(e,r){return(0,s.A)("/v1/public/portal/pre",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...r||{}})}async function o(e,r){return(0,s.A)("/v1/public/portal/purchase",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...r||{}})}},90842:(e,r,t)=>{"use strict";t.d(r,{E:()=>l});var s=t(42725),n=t(7918);t(91616);var i=t(27681);let a=(0,n.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:r,...t}){return(0,s.jsx)("div",{className:(0,i.cn)(a({variant:r}),e),...t})}},10965:(e,r,t)=>{"use strict";t.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>a,aR:()=>l,wL:()=>u});var s=t(42725),n=t(91616),i=t(27681);let a=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("bg-card text-card-foreground rounded-xl border shadow",e),...r}));a.displayName="Card";let l=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));l.displayName="CardHeader";let o=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("font-semibold leading-none tracking-tight",e),...r}));o.displayName="CardTitle";let d=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-muted-foreground text-sm",e),...r}));d.displayName="CardDescription";let c=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let u=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"},23963:(e,r,t)=>{"use strict";t.d(r,{p:()=>a});var s=t(42725),n=t(91616),i=t(27681);let a=n.forwardRef(({className:e,type:r,...t},n)=>(0,s.jsx)("input",{type:r,className:(0,i.cn)("border-input file:text-foreground placeholder:text-muted-foreground focus-visible:ring-ring flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));a.displayName="Input"},37637:(e,r,t)=>{"use strict";t.d(r,{J:()=>d});var s=t(42725),n=t(46470),i=t(7918),a=t(91616),l=t(27681);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)(n.b,{ref:t,className:(0,l.cn)(o(),e),...r}));d.displayName=n.b.displayName},87828:(e,r,t)=>{"use strict";t.d(r,{C:()=>d,z:()=>o});var s=t(42725),n=t(6181),i=t(28034),a=t(91616),l=t(27681);let o=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)(n.bL,{className:(0,l.cn)("grid gap-2",e),...r,ref:t}));o.displayName=n.bL.displayName;let d=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)(n.q7,{ref:t,className:(0,l.cn)("border-primary text-primary focus-visible:ring-ring aspect-square h-4 w-4 rounded-full border shadow focus:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,s.jsx)(n.C1,{className:"flex items-center justify-center",children:(0,s.jsx)(i.A,{className:"fill-primary h-3.5 w-3.5"})})}));d.displayName=n.q7.displayName},98110:(e,r,t)=>{"use strict";t.d(r,{z:()=>l});var s=t(42725),n=t(23963),i=t(27681),a=t(91616);function l({suffix:e,prefix:r,formatInput:t,formatOutput:l,value:o,className:d,onValueChange:c,onValueBlur:u,...p}){let m=e=>{if(""===e||0===e||"0"===e)return"";let r=String(e??"");return t?t(r):r},[x,f]=(0,a.useState)(()=>m(o)),[h,b]=(0,a.useState)(o??""),g=e=>{let r=e?.toString().trim();return"0"===r&&"number"===p.type?0:(r&&"number"===p.type&&(r=Number(r)),l?l(r):r)};return(0,s.jsxs)("div",{className:(0,i.cn)("border-input flex w-full items-center overflow-hidden rounded-md border",d),suppressHydrationWarning:!0,children:["string"==typeof r?(0,s.jsx)("div",{className:"bg-muted relative mr-px flex h-9 items-center text-nowrap px-3",children:r}):r,(0,s.jsx)(n.p,{step:.01,...p,value:x,className:"block rounded-none border-none",onChange:e=>{let r=e.target.value;if("number"===p.type){if("0"===r){f(""),b(0),c?.(0);return}if(/^-?\d*\.?\d*$/.test(r)||"-"===r||"."===r){let e=Number(r);if(isNaN(e)||"-"===r||"."===r)b(r);else{let t=Math.max(Number.isFinite(p.min)?p.min:-1/0,Math.min(Number.isFinite(p.max)?p.max:1/0,e));r=String(t),b(t)}f("0"===r?"":r)}}else f(r),b(r);let t=g(r);c?.(t)},onBlur:()=>{if("number"===p.type&&x){if("-"===x||"."===x){f(""),b(""),u?.("");return}if("0"===x){f(""),u?.(0);return}}let e=g(x);(o||"")!==e&&u?.(e)}}),"string"==typeof e?(0,s.jsx)("div",{className:"bg-muted relative ml-px flex h-9 items-center text-nowrap px-3",children:e}):e]})}},31026:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(72771).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/purchasing/content.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/purchasing/content.tsx","default")},55920:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(91069),n=t(18288),i=t(31026);async function a({searchParams:e}){let{id:r}=await e,{data:t}=await (0,n.uV)({skipErrorHandler:!0}),a=(t.data?.list||[]).find(e=>e.id===Number(r));return(0,s.jsx)("main",{className:"container space-y-16",children:(0,s.jsx)(i.default,{subscription:a})})}},18288:(e,r,t)=>{"use strict";t.d(r,{uV:()=>n});var s=t(70696);async function n(e){return(0,s.A)("/v1/public/portal/subscribe",{method:"GET",...e||{}})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[76742,7061,82007,48546,87091,23899,85563,35e3],()=>t(69710));module.exports=s})();