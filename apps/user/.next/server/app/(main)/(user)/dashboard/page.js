(()=>{var e={};e.id=15405,e.ids=[15405],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},76760:e=>{"use strict";e.exports=require("node:path")},1708:e=>{"use strict";e.exports=require("node:process")},73136:e=>{"use strict";e.exports=require("node:url")},47710:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=t(90735),a=t(91232),n=t(72914),i=t.n(n),l=t(40085),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let d=["",{children:["(main)",{children:["(user)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,28861)),"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/(user)/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,20305)),"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/(user)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,76722)),"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,68270,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,95335,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,44908,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,57814)),"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,68270,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,95335,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,44908,23)),"next/dist/client/components/unauthorized-error"]}],c=["/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/(user)/dashboard/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(main)/(user)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},31079:(e,s,t)=>{Promise.resolve().then(t.bind(t,50265)),Promise.resolve().then(t.bind(t,82373)),Promise.resolve().then(t.bind(t,81114)),Promise.resolve().then(t.t.bind(t,91784,23)),Promise.resolve().then(t.t.bind(t,63840,23)),Promise.resolve().then(t.t.bind(t,47453,23)),Promise.resolve().then(t.bind(t,43327)),Promise.resolve().then(t.bind(t,11127)),Promise.resolve().then(t.bind(t,88556)),Promise.resolve().then(t.bind(t,55108))},44991:(e,s,t)=>{Promise.resolve().then(t.bind(t,70240)),Promise.resolve().then(t.bind(t,27437)),Promise.resolve().then(t.bind(t,18679)),Promise.resolve().then(t.bind(t,54320)),Promise.resolve().then(t.bind(t,93080)),Promise.resolve().then(t.t.bind(t,28773,23)),Promise.resolve().then(t.bind(t,89067)),Promise.resolve().then(t.bind(t,72711)),Promise.resolve().then(t.bind(t,27876)),Promise.resolve().then(t.bind(t,7468))},70240:(e,s,t)=>{"use strict";t.d(s,{default:()=>eB});var r=t(42725),a=t(39204),n=t(25206),i=t(56497),l=t(36312),o=t(83369),d=t(27300),c=t(64957),u=t(90971),p=t(10965),m=t(72711),x=t(53302),f=t(41290),h=t(17979),b=t(70207),j=t(91616),y=t(41622),v=t(29956);function g({id:e,subscribe:s}){let t=(0,h.useTranslations)("subscribe"),{getUserInfo:a}=(0,o.A)(),[g,w]=(0,j.useState)(!1),N=(0,b.useRouter)(),[C,A]=(0,j.useState)({quantity:1,payment:-1,coupon:"",user_subscribe_id:e}),[_,R]=(0,j.useTransition)(),{data:D}=(0,c.I)({enabled:!!s.id&&g,queryKey:["preCreateOrder",C],queryFn:async()=>{let{data:e}=await (0,d.mB)({...C,subscribe_id:s.id});return e.data}}),P=(0,j.useCallback)((e,s)=>{A(t=>({...t,[e]:s}))},[]),k=(0,j.useCallback)(async()=>{R(async()=>{try{let e=await (0,d.Bf)(C),s=e.data.data?.order_no;s&&(a(),N.push(`/payment?order_no=${s}`))}catch(e){}})},[C,N,a]);return(0,r.jsxs)(m.Dialog,{open:g,onOpenChange:w,children:[(0,r.jsx)(m.zM,{asChild:!0,children:(0,r.jsx)(u.$,{size:"sm",children:t("renew")})}),(0,r.jsxs)(m.DialogContent,{className:"flex h-full max-w-screen-lg flex-col overflow-hidden md:h-auto",children:[(0,r.jsx)(m.DialogHeader,{children:(0,r.jsx)(m.DialogTitle,{children:t("renewSubscription")})}),(0,r.jsxs)("div",{className:"grid w-full gap-3 lg:grid-cols-2",children:[(0,r.jsx)(p.Zp,{className:"border-transparent shadow-none md:border-inherit md:shadow",children:(0,r.jsxs)(p.Wu,{className:"grid gap-3 p-0 text-sm md:p-6",children:[(0,r.jsx)(v._,{subscribe:{...s,quantity:C.quantity}}),(0,r.jsx)(x.w,{}),(0,r.jsx)(y.M,{order:{...D,quantity:C.quantity,unit_price:s?.unit_price}})]})}),(0,r.jsxs)("div",{className:"flex flex-col justify-between text-sm",children:[(0,r.jsxs)("div",{className:"mb-6 grid gap-3",children:[(0,r.jsx)(i.A,{quantity:C.quantity,unitTime:s?.unit_time,discounts:s?.discount,onChange:e=>{P("quantity",e)}}),(0,r.jsx)(n.A,{coupon:C.coupon,onChange:e=>P("coupon",e)}),(0,r.jsx)(l.A,{value:C.payment,onChange:e=>{P("payment",e)}})]}),(0,r.jsxs)(u.$,{className:"fixed bottom-0 left-0 w-full rounded-none md:relative md:mt-6",disabled:_,onClick:k,children:[_&&(0,r.jsx)(f.A,{className:"mr-2 animate-spin"}),t("buyNow")]})]})]})]})]})}function w({id:e,replacement:s}){let t=(0,h.useTranslations)("subscribe"),{getUserInfo:n}=(0,o.A)(),[i,c]=(0,j.useState)(!1),p=(0,b.useRouter)(),[x,y]=(0,j.useState)({payment:-1,user_subscribe_id:e}),[v,g]=(0,j.useTransition)();if(s)return(0,r.jsxs)(m.Dialog,{open:i,onOpenChange:c,children:[(0,r.jsx)(m.zM,{asChild:!0,children:(0,r.jsx)(u.$,{variant:"secondary",size:"sm",children:t("resetTraffic")})}),(0,r.jsxs)(m.DialogContent,{className:"flex h-full flex-col overflow-hidden md:h-auto",children:[(0,r.jsxs)(m.DialogHeader,{children:[(0,r.jsx)(m.DialogTitle,{children:t("resetTrafficTitle")}),(0,r.jsx)(m.rr,{children:t("resetTrafficDescription")})]}),(0,r.jsxs)("div",{className:"flex flex-col justify-between text-sm",children:[(0,r.jsxs)("div",{className:"grid gap-3",children:[(0,r.jsxs)("div",{className:"flex justify-between font-semibold",children:[(0,r.jsx)("span",{children:t("resetPrice")}),(0,r.jsx)("span",{children:(0,r.jsx)(a.n,{type:"currency",value:s})})]}),(0,r.jsx)(l.A,{value:x.payment,onChange:e=>{y({...x,payment:e})}})]}),(0,r.jsxs)(u.$,{className:"fixed bottom-0 left-0 w-full rounded-none md:relative md:mt-6",disabled:v,onClick:async()=>{g(async()=>{try{let e=await (0,d.T9)(x),s=e.data.data?.order_no;s&&(n(),p.push(`/payment?order_no=${s}`))}catch(e){console.log(e)}})},children:[v&&(0,r.jsx)(f.A,{className:"mr-2 animate-spin"}),t("buyNow")]})]})]})]})}var N=t(12553),C=t(89067);function A({id:e,allowDeduction:s}){let t=(0,h.useTranslations)("subscribe.unsubscribe"),n=(0,b.useRouter)(),{common:i,getUserInfo:l}=(0,o.A)(),d=i.subscribe.single_model,[p,x]=(0,j.useState)(!1),{data:f}=(0,c.I)({enabled:!!(p&&e&&s),queryKey:["preUnsubscribe",e],queryFn:async()=>{let{data:s}=await (0,N.T6)({id:e});return s.data?.deduction_amount}}),y=async()=>{try{await (0,N.al)({id:e},{skipErrorHandler:!0}),C.toast.success(t("success")),n.refresh(),await l(),x(!1)}catch(e){C.toast.error(t("failed"))}};return d||s?(0,r.jsxs)(m.Dialog,{open:p,onOpenChange:x,children:[(0,r.jsx)(m.zM,{asChild:!0,children:(0,r.jsx)(u.$,{variant:"destructive",size:"sm",children:t("unsubscribe")})}),(0,r.jsxs)(m.DialogContent,{children:[(0,r.jsxs)(m.DialogHeader,{children:[(0,r.jsx)(m.DialogTitle,{children:t("confirmUnsubscribe")}),(0,r.jsx)(m.rr,{children:t("confirmUnsubscribeDescription")})]}),(0,r.jsx)("p",{children:t("residualValue")}),(0,r.jsx)("p",{className:"text-primary text-2xl font-semibold",children:(0,r.jsx)(a.n,{type:"currency",value:f})}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm",children:t("unsubscribeDescription")}),(0,r.jsxs)(m.Es,{children:[(0,r.jsx)(u.$,{variant:"outline",onClick:()=>x(!1),children:t("cancel")}),(0,r.jsx)(u.$,{onClick:y,children:t("confirm")})]})]})]}):null}var _=t(49397),R=t(42748),D=t(94574),P=t(76235),k=t(82756),q=t(30613),z=t(63095),T=t(9689),I=t(32713),S=t(73462),$=t(2397),O=t(85925),E="Collapsible",[F,H]=(0,P.A)(E),[G,U]=F(E),B=j.forwardRef((e,s)=>{let{__scopeCollapsible:t,open:a,defaultOpen:n,disabled:i,onOpenChange:l,...o}=e,[d=!1,c]=(0,T.i)({prop:a,defaultProp:n,onChange:l});return(0,r.jsx)(G,{scope:t,disabled:i,contentId:(0,O.B)(),open:d,onOpenToggle:j.useCallback(()=>c(e=>!e),[c]),children:(0,r.jsx)(I.sG.div,{"data-state":X(d),"data-disabled":i?"":void 0,...o,ref:s})})});B.displayName=E;var M="CollapsibleTrigger",K=j.forwardRef((e,s)=>{let{__scopeCollapsible:t,...a}=e,n=U(M,t);return(0,r.jsx)(I.sG.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":X(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...a,ref:s,onClick:(0,z.m)(e.onClick,n.onOpenToggle)})});K.displayName=M;var L="CollapsibleContent",Z=j.forwardRef((e,s)=>{let{forceMount:t,...a}=e,n=U(L,e.__scopeCollapsible);return(0,r.jsx)($.C,{present:t||n.open,children:({present:e})=>(0,r.jsx)(V,{...a,ref:s,present:e})})});Z.displayName=L;var V=j.forwardRef((e,s)=>{let{__scopeCollapsible:t,present:a,children:n,...i}=e,l=U(L,t),[o,d]=j.useState(a),c=j.useRef(null),u=(0,q.s)(s,c),p=j.useRef(0),m=p.current,x=j.useRef(0),f=x.current,h=l.open||o,b=j.useRef(h),y=j.useRef(void 0);return j.useEffect(()=>{let e=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,S.N)(()=>{let e=c.current;if(e){y.current=y.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let s=e.getBoundingClientRect();p.current=s.height,x.current=s.width,b.current||(e.style.transitionDuration=y.current.transitionDuration,e.style.animationName=y.current.animationName),d(a)}},[l.open,a]),(0,r.jsx)(I.sG.div,{"data-state":X(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!h,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":f?`${f}px`:void 0,...e.style},children:h&&n})});function X(e){return e?"open":"closed"}var Y=t(6737),W="Accordion",J=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Q,ee,es]=(0,k.N)(W),[et,er]=(0,P.A)(W,[es,H]),ea=H(),en=j.forwardRef((e,s)=>{let{type:t,...a}=e;return(0,r.jsx)(Q.Provider,{scope:e.__scopeAccordion,children:"multiple"===t?(0,r.jsx)(eu,{...a,ref:s}):(0,r.jsx)(ec,{...a,ref:s})})});en.displayName=W;var[ei,el]=et(W),[eo,ed]=et(W,{collapsible:!1}),ec=j.forwardRef((e,s)=>{let{value:t,defaultValue:a,onValueChange:n=()=>{},collapsible:i=!1,...l}=e,[o,d]=(0,T.i)({prop:t,defaultProp:a,onChange:n});return(0,r.jsx)(ei,{scope:e.__scopeAccordion,value:o?[o]:[],onItemOpen:d,onItemClose:j.useCallback(()=>i&&d(""),[i,d]),children:(0,r.jsx)(eo,{scope:e.__scopeAccordion,collapsible:i,children:(0,r.jsx)(ex,{...l,ref:s})})})}),eu=j.forwardRef((e,s)=>{let{value:t,defaultValue:a,onValueChange:n=()=>{},...i}=e,[l=[],o]=(0,T.i)({prop:t,defaultProp:a,onChange:n}),d=j.useCallback(e=>o((s=[])=>[...s,e]),[o]),c=j.useCallback(e=>o((s=[])=>s.filter(s=>s!==e)),[o]);return(0,r.jsx)(ei,{scope:e.__scopeAccordion,value:l,onItemOpen:d,onItemClose:c,children:(0,r.jsx)(eo,{scope:e.__scopeAccordion,collapsible:!0,children:(0,r.jsx)(ex,{...i,ref:s})})})}),[ep,em]=et(W),ex=j.forwardRef((e,s)=>{let{__scopeAccordion:t,disabled:a,dir:n,orientation:i="vertical",...l}=e,o=j.useRef(null),d=(0,q.s)(o,s),c=ee(t),u="ltr"===(0,Y.jH)(n),p=(0,z.m)(e.onKeyDown,e=>{if(!J.includes(e.key))return;let s=e.target,t=c().filter(e=>!e.ref.current?.disabled),r=t.findIndex(e=>e.ref.current===s),a=t.length;if(-1===r)return;e.preventDefault();let n=r,l=a-1,o=()=>{(n=r+1)>l&&(n=0)},d=()=>{(n=r-1)<0&&(n=l)};switch(e.key){case"Home":n=0;break;case"End":n=l;break;case"ArrowRight":"horizontal"===i&&(u?o():d());break;case"ArrowDown":"vertical"===i&&o();break;case"ArrowLeft":"horizontal"===i&&(u?d():o());break;case"ArrowUp":"vertical"===i&&d()}let p=n%a;t[p].ref.current?.focus()});return(0,r.jsx)(ep,{scope:t,disabled:a,direction:n,orientation:i,children:(0,r.jsx)(Q.Slot,{scope:t,children:(0,r.jsx)(I.sG.div,{...l,"data-orientation":i,ref:d,onKeyDown:a?void 0:p})})})}),ef="AccordionItem",[eh,eb]=et(ef),ej=j.forwardRef((e,s)=>{let{__scopeAccordion:t,value:a,...n}=e,i=em(ef,t),l=el(ef,t),o=ea(t),d=(0,O.B)(),c=a&&l.value.includes(a)||!1,u=i.disabled||e.disabled;return(0,r.jsx)(eh,{scope:t,open:c,disabled:u,triggerId:d,children:(0,r.jsx)(B,{"data-orientation":i.orientation,"data-state":eA(c),...o,...n,ref:s,disabled:u,open:c,onOpenChange:e=>{e?l.onItemOpen(a):l.onItemClose(a)}})})});ej.displayName=ef;var ey="AccordionHeader",ev=j.forwardRef((e,s)=>{let{__scopeAccordion:t,...a}=e,n=em(W,t),i=eb(ey,t);return(0,r.jsx)(I.sG.h3,{"data-orientation":n.orientation,"data-state":eA(i.open),"data-disabled":i.disabled?"":void 0,...a,ref:s})});ev.displayName=ey;var eg="AccordionTrigger",ew=j.forwardRef((e,s)=>{let{__scopeAccordion:t,...a}=e,n=em(W,t),i=eb(eg,t),l=ed(eg,t),o=ea(t);return(0,r.jsx)(Q.ItemSlot,{scope:t,children:(0,r.jsx)(K,{"aria-disabled":i.open&&!l.collapsible||void 0,"data-orientation":n.orientation,id:i.triggerId,...o,...a,ref:s})})});ew.displayName=eg;var eN="AccordionContent",eC=j.forwardRef((e,s)=>{let{__scopeAccordion:t,...a}=e,n=em(W,t),i=eb(eN,t),l=ea(t);return(0,r.jsx)(Z,{role:"region","aria-labelledby":i.triggerId,"data-orientation":n.orientation,...l,...a,ref:s,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function eA(e){return e?"open":"closed"}eC.displayName=eN;var e_=t(78188),eR=t(27681);let eD=j.forwardRef(({className:e,...s},t)=>(0,r.jsx)(ej,{ref:t,className:(0,eR.cn)("border-b",e),...s}));eD.displayName="AccordionItem";let eP=j.forwardRef(({className:e,children:s,...t},a)=>(0,r.jsx)(ev,{className:"flex",children:(0,r.jsxs)(ew,{ref:a,className:(0,eR.cn)("flex flex-1 items-center justify-between py-4 text-left text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...t,children:[s,(0,r.jsx)(e_.A,{className:"text-muted-foreground h-4 w-4 shrink-0 transition-transform duration-200"})]})}));eP.displayName=ew.displayName;let ek=j.forwardRef(({className:e,children:s,...t},a)=>(0,r.jsx)(eC,{ref:a,className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...t,children:(0,r.jsx)("div",{className:(0,eR.cn)("pb-4 pt-0",e),children:s})}));ek.displayName=eC.displayName;var eq=t(38374),ez=t(54289),eT=t(27876),eI=t(23971),eS=t(34088),e$=t(36888),eO=t.n(e$),eE=t(45685),eF=t(61096),eH=t.n(eF),eG=t(69522);let eU=["windows","macos","linux","ios","android","harmony"];function eB(){let e=(0,h.useTranslations)("dashboard"),{getUserSubscribe:s,getAppSubLink:t}=(0,o.A)(),[n,i]=(0,j.useState)(""),{data:l=[],refetch:d,isLoading:m}=(0,c.I)({queryKey:["queryUserSubscribe"],queryFn:async()=>{let{data:e}=await (0,N.k9)();return e.data?.list||[]}}),{data:f}=(0,c.I)({queryKey:["queryApplicationConfig"],queryFn:async()=>{let{data:e}=await (0,R.z$)();return e.data?.applications||[]}}),[b,y]=(0,j.useState)((0,D.uo)()),{data:v}=(0,c.I)({queryKey:["getStat"],queryFn:async()=>{let{data:e}=await (0,_.z1)({skipErrorHandler:!0});return e.data},refetchOnWindowFocus:!1}),P={2:e("finished"),3:e("expired"),4:e("deducted")};return(0,r.jsx)(r.Fragment,{children:l.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("h2",{className:"flex items-center gap-1.5 font-semibold",children:[(0,r.jsx)(eT.Icon,{icon:"uil:servers",className:"size-5"}),e("mySubscriptions")]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(u.$,{size:"sm",variant:"outline",onClick:()=>{d()},className:m?"animate-pulse":"",children:(0,r.jsx)(eT.Icon,{icon:"uil:sync"})}),(0,r.jsx)(u.$,{size:"sm",asChild:!0,children:(0,r.jsx)(eO(),{href:"/subscribe",children:e("purchaseSubscription")})})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap justify-between gap-4",children:[(0,r.jsx)(ez.tU,{value:b,onValueChange:e=>y(e),className:"w-full max-w-full md:w-auto",children:(0,r.jsx)(ez.j7,{className:"flex *:flex-auto",children:eU.map(e=>(0,r.jsx)(ez.Xi,{value:e,className:"px-1 lg:px-3",children:(0,r.jsx)(eT.Icon,{icon:`${{windows:"mdi:microsoft-windows",macos:"uil:apple",linux:"uil:linux",ios:"simple-icons:ios",android:"uil:android",harmony:"simple-icons:harmonyos"}[e]}`,className:"size-5"})},e))})}),v?.protocol&&v?.protocol.length>1&&(0,r.jsx)(ez.tU,{value:n,onValueChange:i,className:"w-full max-w-full md:w-auto",children:(0,r.jsx)(ez.j7,{className:"flex *:flex-auto",children:["all",...v?.protocol||[]].map(e=>(0,r.jsx)(ez.Xi,{value:"all"===e?"":e,className:"px-1 uppercase lg:px-3",children:e},e))})})]}),l.map(i=>(0,r.jsxs)(p.Zp,{className:(0,eR.cn)("relative",{"relative opacity-80 grayscale":3===i.status,"relative hidden opacity-60 blur-[0.3px] grayscale":4===i.status}),children:[i.status>=2&&(0,r.jsx)("div",{className:(0,eR.cn)("pointer-events-none absolute left-0 top-0 z-10 h-full w-full overflow-hidden mix-blend-difference",{"text-destructive":2===i.status,"text-white":3===i.status||4===i.status}),style:{filter:"contrast(200%) brightness(150%) invert(0.2)"},children:(0,r.jsx)("div",{className:"absolute inset-0",children:Array.from({length:16}).map((e,s)=>{let t=Math.floor(s/4),a=s%4;return(0,r.jsx)("span",{className:"absolute rotate-[-30deg] whitespace-nowrap text-lg font-black opacity-40",style:{top:`${10+25*t+(a%2==0?5:-5)}%`,left:`${5+30*a+(t%2==0?0:10)}%`,textShadow:"0px 0px 1px rgba(255,255,255,0.5)"},children:P[i.status]},s)})})}),(0,r.jsxs)(p.aR,{className:"flex flex-row flex-wrap items-center justify-between gap-2 space-y-0",children:[(0,r.jsxs)(p.ZB,{className:"font-medium",children:[i.subscribe.name,(0,r.jsx)("p",{className:"text-foreground/50 mt-1 text-sm",children:(0,eI.Yq)(i.start_time)})]}),4!==i.status&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsxs)(eq.Lt,{children:[(0,r.jsx)(eq.tv,{asChild:!0,children:(0,r.jsx)(u.$,{size:"sm",variant:"destructive",children:e("resetSubscription")})}),(0,r.jsxs)(eq.EO,{children:[(0,r.jsxs)(eq.wd,{children:[(0,r.jsx)(eq.r7,{children:e("prompt")}),(0,r.jsx)(eq.$v,{children:e("confirmResetSubscription")})]}),(0,r.jsxs)(eq.ck,{children:[(0,r.jsx)(eq.Zr,{children:e("cancel")}),(0,r.jsx)(eq.Rx,{onClick:async()=>{await (0,N.ij)({user_subscribe_id:i.id}),await d(),C.toast.success(e("resetSuccess"))},children:e("confirm")})]})]})]}),(0,r.jsx)(w,{id:i.id,replacement:i.subscribe.replacement}),(0,r.jsx)(g,{id:i.id,subscribe:i.subscribe}),(0,r.jsx)(A,{id:i.id,allowDeduction:i.subscribe.allow_deduction})]})]}),(0,r.jsxs)(p.Wu,{children:[(0,r.jsxs)("ul",{className:"grid grid-cols-2 gap-3 *:flex *:flex-col *:justify-between lg:grid-cols-4",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:e("used")}),(0,r.jsx)("span",{className:"text-2xl font-bold",children:(0,r.jsx)(a.n,{type:"traffic",value:i.upload+i.download,unlimited:!i.traffic})})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:e("totalTraffic")}),(0,r.jsx)("span",{className:"text-2xl font-bold",children:(0,r.jsx)(a.n,{type:"traffic",value:i.traffic,unlimited:!i.traffic})})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:e("nextResetDays")}),(0,r.jsx)("span",{className:"text-2xl font-semibold",children:i.reset_time?(0,eI.c_)(new Date(i.reset_time),new Date):e("noReset")})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:e("expirationDays")}),(0,r.jsx)("span",{className:"text-2xl font-semibold",children:i.expire_time?(0,eI.c_)(new Date(i.expire_time),new Date)||e("unknown"):e("noLimit")})]})]}),(0,r.jsx)(x.w,{className:"mt-4"}),(0,r.jsx)(en,{type:"single",collapsible:!0,defaultValue:"0",className:"w-full",children:s(i.token,n)?.map((s,a)=>r.jsxs(eD,{value:String(a),children:[r.jsx(eP,{className:"hover:no-underline",children:r.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[r.jsxs(p.ZB,{className:"text-sm font-medium",children:[e("subscriptionUrl")," ",a+1]}),r.jsx(eH(),{text:s,onCopy:(s,t)=>{t&&C.toast.success(e("copySuccess"))},children:r.jsxs("span",{className:"text-primary hover:bg-accent mr-4 flex cursor-pointer rounded p-2 text-sm",onClick:e=>e.stopPropagation(),children:[r.jsx(eT.Icon,{icon:"uil:copy",className:"mr-2 size-5"}),e("copy")]})})]})}),r.jsx(ek,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6",children:[f?.filter(e=>{let s=e.platform?.[b];return s&&s.length>0}).map(a=>{let n=a.platform?.[b],i=n?.find(e=>e.is_default)||n?.[0];return i?r.jsxs("div",{className:"text-muted-foreground flex size-full flex-col items-center justify-between gap-2 text-xs",children:[r.jsx("span",{children:a.name}),a.icon&&r.jsx(eS.default,{src:a.icon,alt:a.name,width:64,height:64,className:"p-1"}),r.jsxs("div",{className:"flex",children:[r.jsx(u.$,{size:"sm",variant:"secondary",className:"rounded-r-none px-1.5",asChild:!0,children:r.jsx(eO(),{href:i.url,children:e("download")})}),r.jsx(eH(),{text:t(a.subscribe_type,s)||s,onCopy:(n,i)=>{if(i){let n=t(a.subscribe_type,s),i=()=>{C.toast.success(r.jsxs(r.Fragment,{children:[r.jsx("p",{children:e("copySuccess")}),r.jsx("br",{}),r.jsx("p",{children:e("manualImportMessage")})]}))};if(eI.Bd()&&n){window.location.href=n;let e=setTimeout(()=>{window.location.href!==n&&i(),clearTimeout(e)},1e3);return}i()}},children:r.jsx(u.$,{size:"sm",className:"rounded-l-none p-2",children:e("import")})})]})]},a.name):null}),r.jsxs("div",{className:"text-muted-foreground hidden size-full flex-col items-center justify-between gap-2 text-sm lg:flex",children:[r.jsx("span",{children:e("qrCode")}),r.jsx(eE.X,{value:s,size:80,bgColor:"transparent",fgColor:"rgb(59, 130, 246)"}),r.jsx("span",{className:"text-center",children:e("scanToSubscribe")})]})]})})]},s))})]})]},i.id))]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("h2",{className:"flex items-center gap-1.5 font-semibold",children:[(0,r.jsx)(eT.Icon,{icon:"uil:shop",className:"size-5"}),e("purchaseSubscription")]}),(0,r.jsx)(eG.default,{})]})})}},49397:(e,s,t)=>{"use strict";t.d(s,{YR:()=>a,fl:()=>n,z1:()=>i});var r=t(33479);async function a(e,s){return(0,r.A)("/v1/common/send_code",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...s||{}})}async function n(e,s){return(0,r.A)("/v1/common/send_sms_code",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...s||{}})}async function i(e){return(0,r.A)("/v1/common/site/stat",{method:"GET",...e||{}})}},38374:(e,s,t)=>{"use strict";t.d(s,{Lt:()=>z,Rx:()=>H,Zr:()=>G,EO:()=>S,$v:()=>F,ck:()=>O,wd:()=>$,r7:()=>E,tv:()=>T});var r=t(42725),a=t(91616),n=t(76235),i=t(30613),l=t(74560),o=t(63095),d=t(89300),c="AlertDialog",[u,p]=(0,n.A)(c,[l.Hs]),m=(0,l.Hs)(),x=e=>{let{__scopeAlertDialog:s,...t}=e,a=m(s);return(0,r.jsx)(l.bL,{...a,...t,modal:!0})};x.displayName=c;var f=a.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...a}=e,n=m(t);return(0,r.jsx)(l.l9,{...n,...a,ref:s})});f.displayName="AlertDialogTrigger";var h=e=>{let{__scopeAlertDialog:s,...t}=e,a=m(s);return(0,r.jsx)(l.ZL,{...a,...t})};h.displayName="AlertDialogPortal";var b=a.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...a}=e,n=m(t);return(0,r.jsx)(l.hJ,{...n,...a,ref:s})});b.displayName="AlertDialogOverlay";var j="AlertDialogContent",[y,v]=u(j),g=a.forwardRef((e,s)=>{let{__scopeAlertDialog:t,children:n,...c}=e,u=m(t),p=a.useRef(null),x=(0,i.s)(s,p),f=a.useRef(null);return(0,r.jsx)(l.G$,{contentName:j,titleName:w,docsSlug:"alert-dialog",children:(0,r.jsx)(y,{scope:t,cancelRef:f,children:(0,r.jsxs)(l.UC,{role:"alertdialog",...u,...c,ref:x,onOpenAutoFocus:(0,o.m)(c.onOpenAutoFocus,e=>{e.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,r.jsx)(d.xV,{children:n}),(0,r.jsx)(P,{contentRef:p})]})})})});g.displayName=j;var w="AlertDialogTitle",N=a.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...a}=e,n=m(t);return(0,r.jsx)(l.hE,{...n,...a,ref:s})});N.displayName=w;var C="AlertDialogDescription",A=a.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...a}=e,n=m(t);return(0,r.jsx)(l.VY,{...n,...a,ref:s})});A.displayName=C;var _=a.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...a}=e,n=m(t);return(0,r.jsx)(l.bm,{...n,...a,ref:s})});_.displayName="AlertDialogAction";var R="AlertDialogCancel",D=a.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...a}=e,{cancelRef:n}=v(R,t),o=m(t),d=(0,i.s)(s,n);return(0,r.jsx)(l.bm,{...o,...a,ref:d})});D.displayName=R;var P=({contentRef:e})=>{let s=`\`${j}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${j}\` by passing a \`${C}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${j}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return a.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,e]),null},k=t(90971),q=t(27681);let z=x,T=f,I=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)(b,{className:(0,q.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...s,ref:t}));I.displayName=b.displayName;let S=a.forwardRef(({className:e,...s},t)=>(0,r.jsxs)(h,{children:[(0,r.jsx)(I,{}),(0,r.jsx)(g,{ref:t,className:(0,q.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 sm:rounded-lg",e),...s})]}));S.displayName=g.displayName;let $=({className:e,...s})=>(0,r.jsx)("div",{className:(0,q.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...s});$.displayName="AlertDialogHeader";let O=({className:e,...s})=>(0,r.jsx)("div",{className:(0,q.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});O.displayName="AlertDialogFooter";let E=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)(N,{ref:t,className:(0,q.cn)("text-lg font-semibold",e),...s}));E.displayName=N.displayName;let F=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)(A,{ref:t,className:(0,q.cn)("text-muted-foreground text-sm",e),...s}));F.displayName=A.displayName;let H=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)(_,{ref:t,className:(0,q.cn)((0,k.r)(),e),...s}));H.displayName=_.displayName;let G=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)(D,{ref:t,className:(0,q.cn)((0,k.r)({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));G.displayName=D.displayName},50265:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});let r=(0,t(72771).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/(user)/dashboard/content.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/(user)/dashboard/content.tsx","default")},28861:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(91069),a=t(15741),n=t(80255),i=t(50265);async function l(){return(0,r.jsxs)("div",{className:"flex min-h-[calc(100vh-64px-58px-32px-114px)] w-full flex-col gap-4 overflow-hidden",children:[(0,r.jsx)(a.A,{type:"pinned",Authorization:(await n.UL()).get("Authorization")?.value}),(0,r.jsx)(i.default,{})]})}}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[76742,7061,82007,76261,51114,48546,87091,93963,45685,23899,85563,35e3,21009,69522],()=>t(47710));module.exports=r})();