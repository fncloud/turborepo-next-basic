(()=>{var e={};e.id=70240,e.ids=[70240],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},76760:e=>{"use strict";e.exports=require("node:path")},1708:e=>{"use strict";e.exports=require("node:process")},73136:e=>{"use strict";e.exports=require("node:url")},9370:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(90735),n=r(91232),a=r(72914),i=r.n(a),o=r(40085),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["(main)",{children:["(user)",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,18440)),"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/(user)/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,20305)),"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/(user)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,76722)),"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,68270,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,95335,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,44908,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,57814)),"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,68270,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,95335,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,44908,23)),"next/dist/client/components/unauthorized-error"]}],c=["/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/(user)/profile/page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(main)/(user)/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},21012:(e,t,r)=>{Promise.resolve().then(r.bind(r,6739)),Promise.resolve().then(r.bind(r,80674)),Promise.resolve().then(r.bind(r,46168))},23220:(e,t,r)=>{Promise.resolve().then(r.bind(r,54627)),Promise.resolve().then(r.bind(r,75788)),Promise.resolve().then(r.bind(r,67536))},54627:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var s=r(42725),n=r(12553),a=r(11159),i=r(90971),o=r(10965),l=r(32893),d=r(23963),c=r(17979),p=r(667),u=r(89067),m=r(99922);let h=m.z.object({password:m.z.string().min(6),repeat_password:m.z.string()}).refine(e=>e.password===e.repeat_password,{message:"passwordMismatch",path:["repeat_password"]});function f(){let e=(0,c.useTranslations)("profile.accountSettings"),t=(0,p.mN)({resolver:(0,a.u)(h)});async function r(r){await (0,n.ej)({password:r.password}),u.toast.success(e("updateSuccess")),t.reset()}return(0,s.jsxs)(o.Zp,{className:"min-w-80",children:[(0,s.jsx)(o.aR,{className:"bg-muted/50",children:(0,s.jsxs)(o.ZB,{className:"flex items-center justify-between",children:[e("accountSettings"),(0,s.jsx)(i.$,{type:"submit",size:"sm",form:"password-form",children:e("updatePassword")})]})}),(0,s.jsx)(o.Wu,{className:"p-6",children:(0,s.jsx)(l.lV,{...t,children:(0,s.jsxs)("form",{id:"password-form",onSubmit:t.handleSubmit(r),className:"space-y-4",children:[(0,s.jsx)(l.zB,{control:t.control,name:"password",render:({field:t})=>(0,s.jsxs)(l.eI,{children:[(0,s.jsx)(l.MJ,{children:(0,s.jsx)(d.p,{type:"password",placeholder:e("newPassword"),...t})}),(0,s.jsx)(l.C5,{})]})}),(0,s.jsx)(l.zB,{control:t.control,name:"repeat_password",render:({field:t})=>(0,s.jsxs)(l.eI,{children:[(0,s.jsx)(l.MJ,{children:(0,s.jsx)(d.p,{type:"password",placeholder:e("repeatNewPassword"),...t})}),(0,s.jsx)(l.C5,{})]})})]})})})]})}},75788:(e,t,r)=>{"use strict";r.d(t,{default:()=>I});var s=r(42725),n=r(83369),a=r(12553),i=r(11159),o=r(90971),l=r(10965),d=r(32893),c=r(91616),p=r(63095),u=r(30613),m=r(76235),h=r(9689),f=r(9391),b=r(25611),x=r(32713),w="Switch",[g,j]=(0,m.A)(w),[y,v]=g(w),_=c.forwardRef((e,t)=>{let{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:m,form:f,...b}=e,[w,g]=c.useState(null),j=(0,u.s)(t,e=>g(e)),v=c.useRef(!1),_=!w||f||!!w.closest("form"),[k=!1,N]=(0,h.i)({prop:a,defaultProp:i,onChange:m});return(0,s.jsxs)(y,{scope:r,checked:k,disabled:l,children:[(0,s.jsx)(x.sG.button,{type:"button",role:"switch","aria-checked":k,"aria-required":o,"data-state":C(k),"data-disabled":l?"":void 0,disabled:l,value:d,...b,ref:j,onClick:(0,p.m)(e.onClick,e=>{N(e=>!e),_&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),_&&(0,s.jsx)(P,{control:w,bubbles:!v.current,name:n,value:d,checked:k,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});_.displayName=w;var k="SwitchThumb",N=c.forwardRef((e,t)=>{let{__scopeSwitch:r,...n}=e,a=v(k,r);return(0,s.jsx)(x.sG.span,{"data-state":C(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});N.displayName=k;var P=e=>{let{control:t,checked:r,bubbles:n=!0,...a}=e,i=c.useRef(null),o=(0,f.Z)(r),l=(0,b.X)(t);return c.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==r&&t){let s=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(s)}},[o,r,n]),(0,s.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function C(e){return e?"checked":"unchecked"}var z=r(27681);let q=c.forwardRef(({className:e,...t},r)=>(0,s.jsx)(_,{className:(0,z.cn)("focus-visible:ring-ring focus-visible:ring-offset-background data-[state=checked]:bg-primary data-[state=unchecked]:bg-input peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:(0,s.jsx)(N,{className:(0,z.cn)("bg-background pointer-events-none block h-4 w-4 rounded-full shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));q.displayName=_.displayName;var A=r(17979),S=r(667),E=r(89067),M=r(99922);let R=M.z.object({enable_balance_notify:M.z.boolean().default(!1),enable_login_notify:M.z.boolean().default(!1),enable_subscribe_notify:M.z.boolean().default(!1),enable_trade_notify:M.z.boolean().default(!1)});function I(){let e=(0,A.useTranslations)("profile"),{user:t,getUserInfo:r}=(0,n.A)(),c=(0,S.mN)({resolver:(0,i.u)(R),defaultValues:{enable_balance_notify:t?.enable_balance_notify??!1,enable_login_notify:t?.enable_login_notify??!1,enable_subscribe_notify:t?.enable_subscribe_notify??!1,enable_trade_notify:t?.enable_trade_notify??!1}});async function p(t){await (0,a.kA)(t),E.toast.success(e("notify.updateSuccess")),await r()}return(0,s.jsxs)(l.Zp,{className:"min-w-80",children:[(0,s.jsx)(l.aR,{className:"bg-muted/50",children:(0,s.jsxs)(l.ZB,{className:"flex items-center justify-between",children:[e("notify.notificationSettings"),(0,s.jsx)(o.$,{type:"submit",size:"sm",form:"notify-form",children:e("notify.save")})]})}),(0,s.jsx)(l.Wu,{className:"grid gap-6 p-6",children:(0,s.jsx)(d.lV,{...c,children:(0,s.jsx)("form",{id:"notify-form",onSubmit:c.handleSubmit(p),className:"space-y-4",children:(0,s.jsx)("div",{className:"space-y-4",children:[{name:"enable_balance_notify",label:"balanceChange"},{name:"enable_login_notify",label:"login"},{name:"enable_subscribe_notify",label:"subscribe"},{name:"enable_trade_notify",label:"finance"}].map(({name:t,label:r})=>(0,s.jsx)(d.zB,{control:c.control,name:t,render:({field:t})=>(0,s.jsxs)(d.eI,{className:"flex items-center justify-between space-x-4",children:[(0,s.jsx)(d.lR,{className:"text-muted-foreground",children:e(`notify.${r}`)}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(q,{checked:t.value,onCheckedChange:t.onChange})})]})},t))})})})})]})}},67536:(e,t,r)=>{"use strict";r.d(t,{default:()=>y});var s=r(42725),n=r(45676),a=r(83369),i=r(12553),o=r(11159),l=r(90971),d=r(10965),c=r(72711),p=r(32893),u=r(23963),m=r(57575),h=r(27876),f=r(17979),b=r(91616),x=r(667),w=r(89067),g=r(99922);function j({onSuccess:e,children:t}){let r=(0,f.useTranslations)("profile.thirdParty"),{common:d}=(0,a.A)(),{enable_whitelist:h,whitelist:j}=d.auth.mobile,[y,v]=(0,b.useState)(!1),_=g.z.object({area_code:g.z.string().min(1,"Area code is required"),mobile:g.z.string().min(5,"Phone number is required"),code:g.z.string().min(4,"Verification code is required")}),k=(0,x.mN)({resolver:(0,o.u)(_),defaultValues:{area_code:"1",mobile:"",code:""}}),N=async t=>{try{await (0,i.zT)(t),w.toast.success(r("bindSuccess")),e(),v(!1)}catch(e){w.toast.error(r("bindFailed"))}};return(0,s.jsxs)(c.Dialog,{open:y,onOpenChange:v,children:[(0,s.jsx)(c.zM,{children:t}),(0,s.jsxs)(c.DialogContent,{className:"sm:max-w-[425px]",children:[(0,s.jsx)(c.DialogHeader,{children:(0,s.jsx)(c.DialogTitle,{children:r("bindMobile")})}),(0,s.jsx)(p.lV,{...k,children:(0,s.jsxs)("form",{onSubmit:k.handleSubmit(N),className:"space-y-4",children:[(0,s.jsx)(p.zB,{control:k.control,name:"mobile",render:({field:e})=>(0,s.jsxs)(p.eI,{children:[(0,s.jsx)(p.MJ,{children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(p.zB,{control:k.control,name:"area_code",render:({field:e})=>(0,s.jsxs)(p.eI,{children:[(0,s.jsx)(p.MJ,{children:(0,s.jsx)(m.J,{simple:!0,className:"w-32 rounded-r-none border-r-0",placeholder:"Area code...",value:e.value,whitelist:h?j:[],onChange:t=>{t.phone&&k.setValue(e.name,t.phone)}})}),(0,s.jsx)(p.C5,{})]})}),(0,s.jsx)(u.p,{className:"rounded-l-none",placeholder:"Enter your telephone...",type:"tel",...e})]})}),(0,s.jsx)(p.C5,{})]})}),(0,s.jsx)(p.zB,{control:k.control,name:"code",render:({field:e})=>(0,s.jsxs)(p.eI,{children:[(0,s.jsx)(p.MJ,{children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(u.p,{placeholder:"Enter code...",type:"text",...e}),(0,s.jsx)(n.A,{type:"phone",params:{telephone_area_code:k.getValues().area_code,telephone:k.getValues().mobile,type:1}})]})}),(0,s.jsx)(p.C5,{})]})}),(0,s.jsx)(l.$,{type:"submit",className:"w-full",children:r("confirm")})]})})]})]})}function y(){let e=(0,f.useTranslations)("profile.thirdParty"),{user:t,getUserInfo:r,common:n}=(0,a.A)(),{oauth_methods:o}=n,c=[{id:"email",icon:"logos:mailgun-icon",name:"Email",type:"Basic"},{id:"mobile",icon:"mdi:telephone",name:"Mobile",type:"Basic"},{id:"telegram",icon:"logos:telegram",name:"Telegram",type:"OAuth"},{id:"apple",icon:"uil:apple",name:"Apple",type:"OAuth"},{id:"google",icon:"logos:google",name:"Google",type:"OAuth"},{id:"facebook",icon:"logos:facebook",name:"Facebook",type:"OAuth"},{id:"github",icon:"uil:github",name:"GitHub",type:"OAuth"},{id:"device",icon:"mdi:devices",name:"Device",type:"OAuth"}].filter(e=>o?.includes(e.id)),[p,m]=(0,b.useState)({}),x=async(t,s)=>{"email"===t.id&&(await (0,i.fX)({email:s}),await r(),w.toast.success(e("updateSuccess")))},g=async e=>{if(t?.auth_methods?.find(t=>t.auth_type===e.id)?.auth_identifier)await (0,i.Cc)({method:e.id}),await r();else{let t=await (0,i.p0)({method:e.id,redirect:`${window.location.origin}/bind/${e.id}`});t.data?.data?.redirect&&(window.location.href=t.data.data.redirect)}};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(d.Zp,{children:[(0,s.jsx)(d.aR,{className:"bg-muted/50",children:(0,s.jsx)(d.ZB,{children:e("title")})}),(0,s.jsx)(d.Wu,{className:"p-6",children:(0,s.jsx)("div",{className:"space-y-4",children:c.map(n=>{let a=t?.auth_methods?.find(e=>e.auth_type===n.id),i="email"===n.id,o=a?.auth_identifier||p[n.id],d="";return d="email"===n.id?i?o:a?.auth_identifier||"":a?.auth_identifier||e(`${n.id}.description`),(0,s.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,s.jsxs)("span",{className:"flex gap-3 font-medium",children:[(0,s.jsx)(h.Icon,{icon:n.icon,className:"size-6"}),n.name]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.p,{value:d,disabled:!i,className:"bg-muted flex-1 truncate",onChange:e=>i&&m(t=>({...t,[n.id]:e.target.value})),onKeyDown:e=>{"Enter"===e.key&&i&&x(n,o)}}),"mobile"===n.id?(0,s.jsx)(j,{onSuccess:r,children:(0,s.jsx)(l.$,{variant:a?.auth_identifier?"outline":"default",className:"whitespace-nowrap",children:e(a?.auth_identifier?"update":"bind")})}):(0,s.jsx)(l.$,{variant:a?.auth_identifier?"outline":"default",onClick:()=>i?x(n,o):g(n),className:"whitespace-nowrap",children:e(i?"save":a?.auth_identifier?"unbind":"bind")})]})]},n.id)})})})]})})}},6739:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(72771).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/(user)/profile/change-password.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/(user)/profile/change-password.tsx","default")},80674:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(72771).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/(user)/profile/notify-settings.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/(user)/profile/notify-settings.tsx","default")},18440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(91069),n=r(6739),a=r(80674),i=r(46168);function o(){return(0,s.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:flex-wrap lg:*:flex-auto",children:[(0,s.jsx)(i.default,{}),(0,s.jsx)(a.default,{}),(0,s.jsx)(n.default,{})]})}},46168:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(72771).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/(user)/profile/third-party-accounts.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/ppanel-web/ppanel-web/apps/user/app/(main)/(user)/profile/third-party-accounts.tsx","default")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[76742,7061,82007,76261,51114,48546,87091,93963,926,66538,23899,85563,35e3,21009,11748],()=>r(9370));module.exports=s})();