"use strict";exports.id=40057,exports.ids=[40057],exports.modules={40057:(e,a,s)=>{s.d(a,{o:()=>F});var t=s(42725),l=s(87692),r=s(10278),n=s(7918),i=s(91616),d=s(27681);let o=(0,n.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=i.forwardRef(({className:e,variant:a,...s},l)=>(0,t.jsx)("div",{ref:l,role:"alert",className:(0,d.cn)(o({variant:a}),e),...s}));c.displayName="Alert";let x=i.forwardRef(({className:e,...a},s)=>(0,t.jsx)("h5",{ref:s,className:(0,d.cn)("mb-1 font-medium leading-none tracking-tight",e),...a}));x.displayName="AlertTitle";let u=i.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,d.cn)("text-sm [&_p]:leading-relaxed",e),...a}));u.displayName="AlertDescription";var m=s(90971),p=s(20913),g=s(39328);let f=i.forwardRef(({className:e,...a},s)=>(0,t.jsx)(p.bL,{ref:s,className:(0,d.cn)("border-primary focus-visible:ring-ring data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground peer h-4 w-4 shrink-0 rounded-sm border shadow focus-visible:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,t.jsx)(p.C1,{className:(0,d.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(g.A,{className:"h-4 w-4"})})}));f.displayName=p.bL.displayName;var h=s(80452),j=s(23963),v=s(99888),N=s(73844),y=s(40927),w=s(88441);function b({multiple:e=!1,options:a=[],placeholder:s="Select...",value:l,onChange:r,className:n}){let[o,c]=i.useState(!1),x=a=>{if(e){let e=Array.isArray(l)?[...l]:[];e.includes(a)?(e.splice(e.indexOf(a),1),r(e)):r([...e,a])}else r(a===l?"":a),c(!1)};return(0,t.jsxs)(N.AM,{open:o,onOpenChange:c,children:[(0,t.jsx)(N.Wv,{asChild:!0,children:(0,t.jsxs)(m.$,{variant:"outline",role:"combobox","aria-expanded":o,className:(0,d.cn)("w-full items-center justify-between",n),children:[(0,t.jsx)("span",{className:"truncate",children:(()=>{if(e&&Array.isArray(l)&&l.length>0)return a.filter(e=>l.includes(e.value)).map(e=>e.label).join(", ");if(!e){let e=a.find(e=>e.value===l);return e?e.children||e.label:s}return s})()}),(0,t.jsx)(y.A,{className:"ml-2 size-4 shrink-0 opacity-50"})]})}),(0,t.jsx)(N.hl,{className:"w-fit p-0",align:"start",children:(0,t.jsxs)(v.uB,{children:[(0,t.jsx)(v.G7,{placeholder:"Search...",className:"h-9"}),(0,t.jsx)(v.xL,{children:(0,t.jsx)(w.A,{className:"inline-block text-slate-500"})}),(0,t.jsx)(v.L$,{children:(0,t.jsx)(v.oI,{children:a.map(a=>(0,t.jsxs)(v.h_,{value:a.label+a.value,onSelect:()=>x(a.value),children:[a.children||a.label,(0,t.jsx)(g.A,{className:(0,d.cn)("ml-auto h-4 w-4",e?Array.isArray(l)&&l.includes(a.value)?"opacity-100":"opacity-0":l===a.value?"opacity-100":"opacity-0")})]},String(a.label+a.value)))})})]})})]})}function C({table:e,params:a,filters:s}){let l=(a,s)=>{e.setColumnFilters(e=>{let t=e.filter(e=>e.id!==a);return s&&t.push({id:a,value:s}),t})};return(0,t.jsx)("div",{className:"flex gap-2",children:a.map(e=>e.options?(0,t.jsx)(b,{className:"w-32",placeholder:e.placeholder||"Choose...",value:s[e.key]||"",onChange:a=>{l(e.key,a)},options:e.options},e.key):(0,t.jsx)(j.p,{className:"w-32",placeholder:e.placeholder||"Search...",value:s[e.key]||"",onChange:a=>l(e.key,a.target.value)},e.key))})}var P=s(69215),k=s(34758),S=s(45765),A=s(18716),R=s(79117);function z({table:e,text:a}){return(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,t.jsx)("div",{className:"text-muted-foreground flex-1 whitespace-nowrap text-center sm:text-left",children:a?.textPageOf?.(e.getState().pagination.pageIndex+1,e.getPageCount())||`Page ${e.getState().pagination.pageIndex+1} of ${e.getPageCount()}`}),(0,t.jsxs)("div",{className:"flex flex-grow items-center justify-center gap-2 sm:justify-end",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("p",{className:"font-medium",children:a?.textRowsPerPage||"Rows per page"}),(0,t.jsxs)(P.l6,{value:`${e.getState().pagination.pageSize}`,onValueChange:a=>{e.setPageSize(Number(a))},children:[(0,t.jsx)(P.bq,{className:"h-8 w-[70px]",children:(0,t.jsx)(P.yv,{placeholder:e.getState().pagination.pageSize})}),(0,t.jsx)(P.gC,{side:"top",children:[10,20,50,100,200].map(e=>(0,t.jsx)(P.eb,{value:`${e}`,children:e},e))})]})]}),(0,t.jsxs)(m.$,{variant:"outline",size:"icon",className:"hidden lg:flex",onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),children:[(0,t.jsx)("span",{className:"sr-only",children:"Go to first page"}),(0,t.jsx)(k.A,{className:"h-4 w-4"})]}),(0,t.jsxs)(m.$,{variant:"outline",size:"icon",onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),children:[(0,t.jsx)("span",{className:"sr-only",children:"Go to previous page"}),(0,t.jsx)(S.A,{className:"h-4 w-4"})]}),(0,t.jsxs)(P.l6,{value:`${e.getState().pagination.pageIndex+1}`,onValueChange:a=>e.setPageIndex(Number(a)-1),children:[(0,t.jsx)(P.bq,{className:"w-[70px]",children:(0,t.jsx)(P.yv,{placeholder:"Select page number"})}),(0,t.jsx)(P.gC,{className:"w-12",children:Array.from({length:e.getPageCount()},(e,a)=>(0,t.jsx)(P.eb,{value:`${a+1}`,children:a+1},a))})]}),(0,t.jsxs)(m.$,{variant:"outline",size:"icon",onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),children:[(0,t.jsx)("span",{className:"sr-only",children:"Go to next page"}),(0,t.jsx)(A.A,{className:"h-4 w-4"})]}),(0,t.jsxs)(m.$,{variant:"outline",size:"icon",className:"hidden lg:flex",onClick:()=>e.setPageIndex(e.getPageCount()-1),disabled:!e.getCanNextPage(),children:[(0,t.jsx)("span",{className:"sr-only",children:"Go to last page"}),(0,t.jsx)(R.A,{className:"h-4 w-4"})]})]})]})}var I=s(10457),B=s(64680),$=s(83049);function _({request:e,params:a,header:s,batchRender:n,renderItem:o,action:p,texts:g,empty:j}){let[v,N]=(0,i.useState)([]),[y,w]=(0,i.useState)({}),[b,P]=(0,i.useState)([]),[k,S]=(0,i.useState)(0),[A,R]=(0,i.useState)({pageIndex:0,pageSize:10}),[_,L]=(0,i.useState)(!1),F=(0,l.N4)({data:b,columns:[],onPaginationChange:R,onColumnFiltersChange:N,getCoreRowModel:(0,r.HT)(),getPaginationRowModel:(0,r.kW)(),getFilteredRowModel:(0,r.hM)(),onRowSelectionChange:w,state:{columnFilters:v,rowSelection:y,pagination:A},manualPagination:!0,manualFiltering:!0,rowCount:k}),G=async()=>{L(!0);try{let a=await e({page:A.pageIndex+1,size:A.pageSize},Object.fromEntries(v.map(e=>[e.id,e.value])));P(a.list),S(a.total)}catch(e){console.log("Fetch data error:",e)}finally{L(!1)}},O=async()=>{F.resetColumnFilters(),F.resetGlobalFilter(!0),F.resetColumnVisibility(),w({}),F.resetPagination()};(0,i.useImperativeHandle)(p,()=>({refresh:G,reset:O}));let M=(e,a)=>{w(s=>({...s,[e]:a}))},T=b.filter((e,a)=>y[a]),E=T.length;return(0,t.jsxs)("div",{className:"flex max-w-full flex-col gap-4 overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex flex-wrap-reverse items-center justify-between gap-4",children:[(0,t.jsx)("div",{children:a?(0,t.jsx)(C,{table:F,params:a,filters:Object.fromEntries(v.map(e=>[e.id,e.value]))}):s?.title}),(0,t.jsxs)("div",{className:"flex flex-1 items-center justify-end gap-2",children:[a&&a?.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.$,{variant:"outline",className:"h-8 w-8 p-2",onClick:G,children:(0,t.jsx)(I.A,{className:"h-4 w-4"})}),(0,t.jsx)(m.$,{variant:"outline",className:"h-8 w-8 p-2",onClick:O,children:(0,t.jsx)(B.A,{className:"h-4 w-4"})})]}),s?.toolbar]})]}),E>0&&n&&(0,t.jsxs)(c,{className:"flex items-center justify-between",children:[(0,t.jsx)(x,{className:"m-0",children:g?.selectedRowsText?.(E)||`Selected ${E} rows`}),(0,t.jsx)(u,{className:"flex gap-2",children:n(T)})]}),(0,t.jsxs)("div",{className:(0,d.cn)("relative overflow-x-auto",{"rounded-xl border":0===b.length}),children:[(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:b.length?b.map((e,a)=>{let s=!!y[a],l=(0,t.jsx)(f,{checked:s,onCheckedChange:e=>M(a,!!e),"aria-label":"Select row"});return(0,t.jsx)("div",{children:o(e,l)},a)}):(0,t.jsx)("div",{className:"flex items-center justify-center py-24",children:j||(0,t.jsx)(h.A,{})})}),_&&(0,t.jsx)("div",{className:"bg-muted/80 absolute top-0 z-20 flex h-full w-full items-center justify-center",children:(0,t.jsx)($.A,{className:"h-4 w-4 animate-spin"})})]}),k>0&&(0,t.jsx)(z,{table:F,text:{textRowsPerPage:g?.textRowsPerPage,textPageOf:g?.textPageOf}})]})}var L=s(17979);function F(e){let a=(0,L.useTranslations)("common.list");return(0,t.jsx)(_,{...e,texts:{selectedRowsText:e=>a("selectedItems",{total:e}),textPageOf:(e,s)=>a("pageInfo",{current:e,total:s}),textRowsPerPage:a("rowsPerPage")}})}},99888:(e,a,s)=>{s.d(a,{G7:()=>o,L$:()=>u,h_:()=>m,oI:()=>c,uB:()=>d,xL:()=>x});var t=s(42725),l=s(53779),r=s(31170),n=s(91616);s(72711);var i=s(27681);let d=n.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.uB,{ref:s,className:(0,i.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...a}));d.displayName=l.uB.displayName;let o=n.forwardRef(({className:e,...a},s)=>(0,t.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,t.jsx)(r.A,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,t.jsx)(l.uB.Input,{ref:s,className:(0,i.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none disabled:cursor-not-allowed disabled:opacity-50",e),...a})]}));o.displayName=l.uB.Input.displayName;let c=n.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.uB.List,{ref:s,className:(0,i.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...a}));c.displayName=l.uB.List.displayName;let x=n.forwardRef((e,a)=>(0,t.jsx)(l.uB.Empty,{ref:a,className:"py-6 text-center text-sm",...e}));x.displayName=l.uB.Empty.displayName;let u=n.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.uB.Group,{ref:s,className:(0,i.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...a}));u.displayName=l.uB.Group.displayName,n.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.uB.Separator,{ref:s,className:(0,i.cn)("bg-border -mx-1 h-px",e),...a})).displayName=l.uB.Separator.displayName;let m=n.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.uB.Item,{ref:s,className:(0,i.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...a}));m.displayName=l.uB.Item.displayName},73844:(e,a,s)=>{s.d(a,{AM:()=>i,Wv:()=>d,hl:()=>o});var t=s(42725),l=s(78661),r=s(91616),n=s(27681);let i=l.bL,d=l.l9;l.Mz;let o=r.forwardRef(({className:e,align:a="center",sideOffset:s=4,...r},i)=>(0,t.jsx)(l.ZL,{children:(0,t.jsx)(l.UC,{ref:i,align:a,sideOffset:s,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-none",e),...r})}));o.displayName=l.UC.displayName}};